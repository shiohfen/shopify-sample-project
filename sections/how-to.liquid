<!-- Include Swiper library from CDN -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<!-- Main container for the section -->
<div class="!mx-10 md:!mx-44 !flex !justify-center !flex-col">

  <!-- Section heading -->
  <h1 class="!py-20 !text-center md:!text-5xl !text-4xl !font-bold">Comfort made easy</h1>

  <!-- Swiper container for the carousel -->
  <div class="w-full relative">
    <div class="swiper multiple-slide-carousel1 swiper-container !relative">
      <!-- Wrapper for Swiper slides -->
      <div class="swiper-wrapper !mb-16">
        <!-- Loop through items (1 to 3) to create slides -->
        {% for i in (1..3) %}

          {% liquid
            assign title_var = "title" | append: i
            assign subtitle_var = "subtitle" | append: i
            assign icon_var = "icon" | append: i
          %}
          <!-- Swiper slide -->
          <div class="swiper-slide">
            <div class="!rounded-2xl !h-96 !flex !justify-center !items-center">

              <!-- Conditional styling for the second slide -->
              {% if i == 2 %}
                <div class="!flex !h-full !w-full !flex-col !justify-center !gap-4 !bg-orange-50 !rounded-lg">
                  <div class="!flex !justify-center">
                    <div class="!h-20 !w-20">
                      <img
                        class="!h-full !w-full !object-cover"
                        src="{{ section.settings[icon_var] |image_url: width: 80 }}"
                        alt="Icon {{ i }}" />
                    </div>
                  </div>
                  <div class="!px-20">
                    <h2 class="!text-center !font-bold !text-3xl !py-4">{{ section.settings[title_var] }}</h2>
                    <p class="!text-center">{{ section.settings[subtitle_var] }}</p>
                  </div>
                </div>
              {% else %}
                <!-- Default styling for other slides -->
                <div class="!flex !h-full !w-full !flex-col !justify-center !gap-4 !bg-slate-200 !rounded-lg">
                  <div class="!flex !justify-center">
                    <div class="!h-20 !w-20">
                      <img
                        class="!h-full !w-full !object-cover"
                        src="{{ section.settings[icon_var] | image_url: width: 80 }}"
                        alt="Icon {{ i }}" />
                    </div>
                  </div>
                  <div class="!px-20">
                    <h2 class="!text-center !font-bold !text-3xl !py-4">{{ section.settings[title_var] }}</h2>
                    <p class="!text-center">{{ section.settings[subtitle_var] }}</p>
                  </div>
                </div>
              {% endif %}

            </div>
          </div>
        {% endfor %}
      </div>

      <!-- Navigation buttons for the carousel (visible on small screens) -->
      <div class="!flex !items-center !gap-8 lg:!justify-start !justify-center md:!hidden">
        <!-- Previous slide button -->
        <button
          id="slider-button-left"
          class="swiper-button-prev group !p-2 !flex !justify-center !items-center !top-1/2 !-translate-y-1/2 !left-5 "
          data-carousel-prev>
          <svg
            class="!h-5 !w-5 !text-indigo-600 group-hover:!text-white"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none">
            <path
              d="M10.0002 11.9999L6 7.99971L10.0025 3.99719"
              stroke="currentColor"
              stroke-width="1.6"
              stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </button>
        <!-- Next slide button -->
        <button
          id="slider-button-right"
          class="swiper-button-next group !p-2 !flex !justify-center !items-center !top-1/2 !-translate-y-1/2 !right-5"
          data-carousel-next>
          <svg
            class="!h-5 !w-5 !text-indigo-600 group-hover:!text-white"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none">
            <path
              d="M5.99984 4.00012L10 8.00029L5.99748 12.0028"
              stroke="currentColor"
              stroke-width="1.6"
              stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </button>
      </div>

    </div>

  </div>

  <!-- Call to action button and review section -->
  <div class="!flex !justify-center">
    <div class="!w-full md:!w-1/3">
      <!-- Action button -->
      <button class="!px-10 !py-7 md:!p-5 !bg-blue-950 !text-white md:!text-2xl !text-4xl !rounded !w-full">{{ section.settings.btn-text }}</button>
      <!-- Review text -->
      <p class="!text-xl !my-4 !text-center">⭐⭐⭐⭐⭐ Over 500+ 5 Star Reviews Online</p>
    </div>
  </div>

</div>

{% stylesheet %}
  /* Styling for the Swiper carousel wrapper */
  .swiper-carousel-wrapper {
    width: 100%;
    height: max-content !important;
    padding-bottom: 8rem !important;
    -webkit-transition-timing-function: linear !important;
    transition-timing-function: linear !important;
    position: relative;
  }
{% endstylesheet %}

{% schema %}
  {
    "name": "How product works Section",
    "class": "section",
    "settings": [
      {
        "type": "text",
        "id": "title1",
        "default": "You save.",
        "label": "Title 1"
      },
      {
        "type": "text",
        "id": "title2",
        "default": "We ship.",
        "label": "Title 2"
      },
      {
        "type": "text",
        "id": "title3",
        "default": "You enjoy!",
        "label": "Title 3"
      },
      {
        "type": "text",
        "id": "subtitle1",
        "default": "Browse our comfort sets and save 15% when you bundle.",
        "label": "Subtitle 1"
      }, {
        "type": "text",
        "id": "subtitle2",
        "default": "We ship your items within 1-2 days of receiving your order.",
        "label": "Subtitle 2"
      }, {
        "type": "text",
        "id": "subtitle3",
        "default": "Wear hernest around the house, out on the town, or in bed.",
        "label": "Subtitle 3"
      }, {
        "type": "image_picker",
        "id": "icon1",
        "label": "Icon 1"
      }, {
        "type": "image_picker",
        "id": "icon2",
        "label": "Icon 2"
      }, {
        "type": "image_picker",
        "id": "icon3",
        "label": "Icon 3"
      }, {
        "type": "text",
        "id": "btn-text",
        "default": "Customize Your Outfit",
        "label": "Button Text"
      }
    ],
    "presets": [
      {
        "name": "How product works Section"
      }
    ]
  }
{% endschema %}

{% javascript %}
  // Initialize Swiper carousel
  var swiper3 = new Swiper(".multiple-slide-carousel1", {
    loop: true, // Enable infinite loop mode
    slidesPerView: 3, // Number of slides visible at a time
    spaceBetween: 20, // Space between slides
    navigation: {
      nextEl: ".multiple-slide-carousel1 .swiper-button-next", // Next button selector
      prevEl: ".multiple-slide-carousel1 .swiper-button-prev"  // Previous button selector
    },
    breakpoints: {
      1536: {
        slidesPerView: 3, // 3 slides per view on large screens
        spaceBetween: 30
      },
      1280: {
        slidesPerView: 3, // 3 slides per view on medium screens
        spaceBetween: 30
      },
      1024: {
        slidesPerView: 2, // 2 slides per view on tablets
        spaceBetween: 30
      },
      768: {
        slidesPerView: 2, // 2 slides per view on small tablets
        spaceBetween: 30
      },
      640: {
        slidesPerView: 1, // 1 slide per view on mobile screens
        spaceBetween: 0
      },
      0: {
        slidesPerView: 1, // 1 slide per view on very small screens
        spaceBetween: 0
      }
    }
  });
{% endjavascript %}
